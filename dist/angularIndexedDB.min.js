!function(){"use strict";angular.module("angular-indexedDB",[])}(),function(){"use strict";function e(e,n){var t=this;t.get=function(t,r){var a=n.defer();return e(t).then(function(e){var n=e.objectStore(t).get(r);n.onsuccess=function(e){a.resolve(e.target.result)},n.onerror=function(e){a.reject(e)}}).catch(function(e){a.reject(e)}),a.promise},t.insert=function(t,r){var a=n.defer();return e(t,"readwrite").then(function(e){var n=e.objectStore(t).add(r);n.onsuccess=function(){a.resolve()},n.onerror=function(e){a.reject(e)}}).catch(function(e){a.reject(e)}),a.promise},t.list=function(t){var r=n.defer();return e(t).then(function(e){var n=e.objectStore(t).openCursor(),a=[];n.onsuccess=function(e){var n=e.target.result;n?(a.push(n.value),n.continue()):r.resolve(a)},n.onerror=function(e){r.reject(e)}}).catch(function(e){r.reject(e)}),r.promise},t.remove=function(t,r){var a=n.defer();return e(t,"readwrite").then(function(e){var n=e.objectStore(t).delete(r);n.onsuccess=function(){a.resolve()},n.onerror=function(e){a.reject(e)}}).catch(function(e){a.reject(e)}),a.promise}}angular.module("angular-indexedDB").service("angularIndexedDBCrud",e),e.$inject=["angularIndexedDBTransaction","$q"]}(),function(){"use strict";angular.module("angular-indexedDB").provider("angularIndexedDBDatabase",function(){function e(e,t){var r=null;return function(){var a=t.defer();return null===r?n(e,t).then(function(e){r=e,a.resolve(r)}).catch(function(e){a.reject(e)}):a.resolve(r),a.promise}}function n(e,n){var r=n.defer(),a=e.indexedDB.open(t.getDatabaseName(),t.getVersion());return a.onupgradeneeded=function(e){t.getUpdateSchema()(e.target.result)},a.onsuccess=function(e){r.resolve(e.target.result)},a.onerror=function(e){r.reject(e)},r.promise}var t=this;t._databaseName="test",t._updateSchema=null,t._version=1,t.setDatabaseName=function(e){return t._databaseName=e,t},t.setUpdateSchema=function(e){return t._updateSchema=e,t},t.setVersion=function(e){return t._version=e,t},t.getDatabaseName=function(){return t._databaseName},t.getUpdateSchema=function(){return t._updateSchema},t.getVersion=function(){return t._version},t.$get=["$window","$q",function(n,t){return e(n,t)}]})}(),function(){"use strict";function e(e,n){return function(t,r){var r=r||"readonly",a=n.defer();return e().then(function(e){a.resolve(e.transaction(t,r))}).catch(function(e){a.reject(e)}),a.promise}}angular.module("angular-indexedDB").factory("angularIndexedDBTransaction",e),e.$inject=["angularIndexedDBDatabase","$q"]}();